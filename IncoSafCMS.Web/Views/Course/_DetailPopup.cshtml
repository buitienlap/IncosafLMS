@model IncosafCMS.Core.DomainModels.Course
@using IncosafCMS.Core.DomainModels

@{
    Layout = null;

    var typeLabel = "Bài viết";
    var typeIcon = "fa-file-text-o";
    var typeColor = "#667eea";
    var typeBg = "rgba(102,126,234,0.12)";
    switch (Model.ContentType)
    {
        case CourseContentType.Pdf:
            typeLabel = "Tài liệu PDF";
            typeIcon = "fa-file-pdf-o";
            typeColor = "#ea5455";
            typeBg = "rgba(234,84,85,0.12)";
            break;
        case CourseContentType.PowerPoint:
            typeLabel = "Trình chiếu PowerPoint";
            typeIcon = "fa-file-powerpoint-o";
            typeColor = "#ff9f43";
            typeBg = "rgba(255,159,67,0.12)";
            break;
        case CourseContentType.Video:
            typeLabel = "Video bài giảng";
            typeIcon = "fa-play-circle";
            typeColor = "#28c76f";
            typeBg = "rgba(40,199,111,0.12)";
            break;
    }
}

<!-- Hero header inside popup -->
<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 28px 32px; color: white; border-radius: 14px 14px 0 0; position: relative; overflow: hidden;">
    <div style="position:absolute; width:250px; height:250px; background:rgba(255,255,255,0.06); border-radius:50%; top:-120px; right:-60px;"></div>
    <div style="position:relative; z-index:1;">
        <div style="font-size:12px; opacity:0.8; margin-bottom:10px;">
            <i class="fa fa-folder-o"></i> @(Model.CourseCategory != null ? Model.CourseCategory.Name : "Khóa học")
        </div>
        <h3 style="font-size:22px; font-weight:700; margin:0 0 8px 0;">@Model.Title</h3>
        <div style="display:flex; gap:20px; flex-wrap:wrap; font-size:13px; opacity:0.9;">
            <span><i class="fa @typeIcon"></i> @typeLabel</span>
            @if (Model.DurationMinutes.HasValue)
            {
                <span><i class="fa fa-clock-o"></i> @Model.DurationMinutes phút</span>
            }
            <span><i class="fa fa-calendar"></i> @Model.CreatedAt.ToString("dd/MM/yyyy")</span>
            @if (!string.IsNullOrEmpty(Model.Code))
            {
                <span><i class="fa fa-tag"></i> @Model.Code</span>
            }
        </div>
    </div>
</div>

<!-- Body -->
<div style="padding: 24px 32px;">
    @if (!string.IsNullOrEmpty(Model.Description))
    {
        <p style="font-size:15px; line-height:1.7; color:#5a6c7d; margin:0 0 20px 0;">@Model.Description</p>
    }

    <!-- Info cards row -->
    <div style="display:flex; gap:12px; margin-bottom:24px;">
        <div style="flex:1; background:#f8f9ff; border-radius:10px; padding:14px 16px; display:flex; align-items:center; gap:12px;">
            <div style="width:40px; height:40px; border-radius:10px; background:@typeBg; color:@typeColor; display:flex; align-items:center; justify-content:center; font-size:18px;">
                <i class="fa @typeIcon"></i>
            </div>
            <div>
                <div style="font-size:15px; font-weight:700; color:#2c3e50;">@typeLabel</div>
                <div style="font-size:12px; color:#95a5a6;">Định dạng</div>
            </div>
        </div>
        <div style="flex:1; background:#f8f9ff; border-radius:10px; padding:14px 16px; display:flex; align-items:center; gap:12px;">
            <div style="width:40px; height:40px; border-radius:10px; background:rgba(40,199,111,0.12); color:#28c76f; display:flex; align-items:center; justify-content:center; font-size:18px;">
                <i class="fa fa-clock-o"></i>
            </div>
            <div>
                <div style="font-size:15px; font-weight:700; color:#2c3e50;">@(Model.DurationMinutes.HasValue ? Model.DurationMinutes + " phút" : "Không giới hạn")</div>
                <div style="font-size:12px; color:#95a5a6;">Thời lượng</div>
            </div>
        </div>
    </div>

    <!-- Action buttons -->
    <div style="display:flex; gap:12px; justify-content:flex-end;">
        <button type="button" onclick="$('#courseDetailModal').modal('hide');"
                style="padding:12px 24px; border-radius:10px; border:2px solid #e0e6ed; background:white; color:#5a6c7d; font-size:14px; font-weight:600; cursor:pointer; transition:all 0.2s;">
            <i class="fa fa-times"></i> Đóng
        </button>
        <a href="@Url.Action("Learn", "Course", new { id = Model.Id })"
           style="display:inline-flex; align-items:center; gap:8px; padding:12px 28px; border-radius:10px; background:linear-gradient(135deg, #667eea 0%, #764ba2 100%); color:white; font-size:15px; font-weight:700; text-decoration:none; box-shadow:0 4px 15px rgba(102,126,234,0.4); transition:all 0.3s;">
            <i class="fa fa-play"></i> Bắt đầu học
        </a>
    </div>
</div>

